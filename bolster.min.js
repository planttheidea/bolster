/*
 *
 * Copyright 2014 Tony Quetano under the terms of the MIT
 * license found at https://github.com/planttheidea/bolster/MIT_License.txt
 *
 * Bolster.js - An augmentation library for jQuery
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
*/
(function(d,e,h){var r=function(){var a={audio:e.createElement("audio"),canvas:e.createElement("canvas"),div:e.createElement("div"),input:e.createElement("input"),p:e.createElement("p"),style:e.createElement("style"),video:e.createElement("video")},c=function(m){for(var b=!1,c=m.length;c--;)if("undefined"!==a.div.style[m[c]]){b=!0;break}return b},k=function(m,b){var c=a.div.style[m];a.div.style[m]=b;return c!==a.div.style[m]?(a.div.style[m]="",!0):!1},f=function(b){return b in a.input},b=function(b){var c=
a.input.type;a.input.type=b;return c!==a.input.type?(a.input.type="text",!0):!1},g=function(b){var c=e.head||e.getElementsByTagName("head")[0],d=a.style.sheet||a.style.styleSheet;a.style.type="text/css";c.appendChild(a.style);return d&&b?(C?function(a){d.cssText=a+" { }";return 0!==d.cssText.length&&!/unknown/i.test(d.cssText)&&0===d.cssText.indexOf(a)}:function(a){try{d.insertRule(a+"{ }",0),d.deleteRule(d.cssRules.length-1)}catch(b){return!1}return!0})(b):!1};g("test");var D=!!d.applicationCache,
E=a.div.attachEvent,l=!(!a.audio.canPlayType||!a.audio.canPlayType("audio/mpeg;").replace(/no/,"")),t=!(!a.audio.canPlayType||!a.audio.canPlayType("audio/mp4;").replace(/no/,"")),u=!(!a.audio.canPlayType||!a.audio.canPlayType("audio/ogg;").replace(/no/,"")),r=c("boxShadow MozBoxShadow WebkitBoxShadow MsBoxShadow KhtmlBoxShadow OBoxShadow".split(" ")),s=!(!a.canvas.getContext||!a.canvas.getContext("2d")),F=!!e.documentElement.classList,v;v=a.div.style.animationName?!0:c(["WebkitAnimationName","MozAnimationName",
"OAnimationName","msAnimationName","KhtmlAnimationName"]);var G=c(["columnCount","webkitColumnCount","MozColumnCount"]),H=c(["boxReflect","WebkitBoxRefect"]),C=!!a.style.styleSheet,I=!!d.CustomEvent,J=!!("draggable"in a.div),K=a.div.addEventListener,L=k("display","flex"),M=!!("geolocation"in navigator),N=!!e.getElementsByClassName,O=function(b,c){c=c||a.div;support=!1;b="on"+b;support=b in c;support||(c.setAttribute(b,"return;"),support="function"===h.type(c[b]),c.removeAttribute(b));return support}("hashchange",
d),P=!(!d.history||!d.history.pushState),Q=k("background-color","hsla(0,0%,0%,0)"),R=function(){var a=["webkit","ms","moz"],b=!1;if(d.indexedDB&&d.IDBTransaction&&d.IDBKeyRange)b=!0;else for(var c=a.length;c--;)if(d[a[c]+"IndexedDB"]&&d[a[c]+"IDBTransaction"]&&d[a[c]+"IDBKeyRange"]){b=!0;break}return b}(),S=f("autocomplete"),T=f("autofocus"),U=b("color"),V=b("date"),W=b("datetime"),X=b("datetime-local"),Y=b("email"),Z=f("list"),$=f("max"),aa=f("min"),ba=f("multiple"),ca=b("month"),da=b("number"),
ea=f("pattern"),fa=f("placeholder"),ga=b("range"),ha=f("required"),ia=b("search"),ja=f("step"),ka=b("tel"),la=b("time"),ma=b("url"),na=b("week"),n;try{d.localStorage.setItem("test","test"),d.localStorage.removeItem("test"),n=!0}catch(Ja){n=!1}var w=function(){for(var a=["linear-gradient","-webkit-linear-gradient","-moz-linear-gradient","-o-linear-gradient"],b=!1,c=a.length;c--;)if(k("background",a[c]+"(-45deg,rgba(0,0,0,0) 0%,rgba(0,0,0,1) 100%)")){b=!0;break}return b?b:k("background","-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,0)),to(rgba(0,0,0,1)))")}(),
oa=function(){var b=e.createElement("style"),c=!1;a.div.id="MediaTest";e.body.appendChild(a.div);b.textContent="@media screen and (min-width:1px) { #MediaTest { position:absolute; }}";e.body.appendChild(b);d.getComputedStyle&&"absolute"==d.getComputedStyle(a.div).position&&(c=!0);a.div.style="";e.body.removeChild(a.div);e.body.removeChild(b);return c}(),pa="undefined"!==h.type(d.pageXOffset)&&"undefined"!==h.type(d.pageYOffset),qa=!!d.postMessage,ra=g(":active"),sa=g(":after"),ta=g("::after"),ua=
g(":before"),va=g("::before"),wa=g(":focus"),xa=g(":hover"),ya=g("::first-letter"),za=g("::first-line"),Aa=g(":link"),Ba=g(":visited"),x=function(){for(var a=["radial-gradient","-webkit-radial-gradient","-moz-radial-gradient","-o-radial-gradient"],b=!1,c=a.length;c--;)if(k("background",a[c]+"(rgb(0,0,0) 0%,rgb(255,255,255) 100%)")){b=!0;break}return b?b:k("background","-webkit-gradient(radial, center center, 0px, center center, 100%, from(rgb(0,0,0)), to(rgb(255,255,255)))")}(),Ca=k("background-color",
"rgba(0,0,0,0)"),p;try{d.sessionStorage.setItem("test","test"),d.sessionStorage.removeItem("test"),p=!0}catch(Ka){p=!1}var Da=!!(-1<e.createElementNS("http://www.w3.org/2000/svg","animateMotion").toString().indexOf("SVG")),Ea=!(!e.createElementNS||!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),Fa=c(["textShadow"]),Ga=!!("ontouchstart"in e.documentElement||d.navigator.msMaxTouchPoints),q=c(["transform","webkitTransform","MozTransform","msTransform","OTransform"]),y=function(){if(q){for(var a=
["transform","webkitTransform","MozTransform","msTransform","OTransform"],b=!1,c=a.length;c--;)if(k(a[c],"translate3d(1px,1px,1px)")){b=!0;break}return b}return!1}(),z=!(!a.video.canPlayType||!a.video.canPlayType("video/mp4;").replace(/no/,"")),A=!(!a.video.canPlayType||!a.video.canPlayType("video/ogg;").replace(/no/,"")),B=!(!a.video.canPlayType||!a.video.canPlayType("video/webm;").replace(/no/,"")),Ha=function(){var b=!1;try{a.canvas.getContext("webgl"),b=!0}catch(c){try{a.getContext("experimental-webgl"),
b=!0}catch(d){b=!1}}return b}(),Ia=!(!d.WebSocket||!d.WebSocket.prototype.send);(function(){var b=e.head||e.getElementsByTagName("head")[0];b.contains(a.style)&&b.removeChild(a.style)})();return{applicationCache:function(){return D},attachEvent:function(){return E},audio:function(){return{mp3:l,mp4:t,ogg:u}},audioMP3:function(){return l},audioMP4:function(){return t},audioOGG:function(){return u},boxShadow:function(){return r},canvas:function(){return s},classList:function(){return F},cssAnimation:function(){return v},
cssColumn:function(){return G},cssReflection:function(){return H},customEvent:function(){return I},dragAndDrop:function(){return J},eventListener:function(){return K},flexbox:function(){return L},geolocation:function(){return M},getElementsByClassName:function(){return N},gradient:function(){return{linear:w,radial:x}},hashchange:function(){return O},history:function(){return P},hsla:function(){return Q},html5Attribute:function(){return{autocomplete:S,autofocus:T,list:Z,max:$,min:aa,multiple:ba,pattern:ea,
placeholder:fa,required:ha,step:ja}},html5Input:function(){return{color:U,date:V,dateTime:W,dateTimeLocal:X,email:Y,month:ca,number:da,range:ga,search:ia,tel:ka,time:la,url:ma,week:na}},indexedDB:function(){return R},linearGradient:function(){return w},localStorage:function(){return n},mediaQueries:function(){return oa},pageOffset:function(){return pa},postMessage:function(){return qa},pseudoClass:function(){return{active:ra,after:sa,before:ua,focus:wa,hover:xa,link:Aa,visited:Ba}},pseudoElement:function(){return{after:ta,
before:va,firstLetter:ya,firstLine:za}},radialGradient:function(){return x},rgba:function(){return Ca},sessionStorage:function(){return p},smil:function(){return Da},storage:function(){return{local:n,session:p}},svg:function(){return Ea},textShadow:function(){return Fa},touchEvents:function(){return Ga},transform:function(){return{twoD:q,threeD:y}},transform2d:function(){return q},transform3d:function(){return y},video:function(){return{mp4:z,ogg:A,webM:B}},videoMP4:function(){return z},videoOGG:function(){return A},
videoWebM:function(){return B},webGL:function(){return Ha},webSocket:function(){return Ia}}}(),l=function(){function a(a){var e=d[subscribeObj.name];if(0<e)for(var f in c)if(c[f])for(var h=c[f].length;h--;)c[f][h].token===e&&(delete d[a.name],c[f].splice(h,1));return this}var c={},d={},e=-1;return{getID:function(a){return d[a.name]},publish:function(a){var d=a.data||{},e,f;if(!c[a.topic])return!1;for(f=(e=c[a.topic])?e.length:0;f--;)e[f].func(d,a.topic)},subscribe:function(b){d[b.name]&&a(b);b.token=
++e;switch(h.type(b.topic)){case "string":"array"!==h.type(c[b.topic])&&(c[b.topic]=[]);c[b.topic].push({token:b.token,func:b.fn});break;case "array":for(var g=b.topic.length;g--;)"array"!==h.type(c[b.topic[g]])&&(c[b.topic[g]]=[]),c[b.topic[g]].push({token:b.token,func:b.fn});break;case "undefined":console.log(Error("Must provide a topic to subscribe to; aborting processing."));break;default:console.log(Error("Invalid topic type, must be either string or array; aborting processing."))}return d[b.name]=
b.token},unsubscribe:a}}(),s=function(){var a=h(d),c=a.height(),e=a.width(),f=a.scrollTop();a.off(".jQueryPlus.setWindowAttributes").on({"load.jQueryPlus.setWindowDimensions resize.jQueryPlus.setWindowDimensions":function(){c=a.height();e=a.width();l.publish({topic:"windowSize",data:{width:e,height:c}})},"scroll.jQueryPlus.setWindowDimensions":function(){f=a.scrollTop();l.publish({topic:"windowScroll",data:{scrollTop:f}})}});return{dimensions:function(){return{width:e,height:c}},height:function(){return c},
scrollTop:function(){return f},width:function(){return e}}}();h.extend({publish:function(a){return l.publish(a)},subscribe:function(a){return l.subscribe(a)},supports:function(a){return r[a]()},unsubscribe:function(a){return l.unsubscribe(a)},window:function(a){return s[a]()}});h.fn.extend({activate:function(a,c){a=a||"active";return c?this.deactivate(a,c).addClass(a):this.deactivate(a).addClass(a)},deactivate:function(a,c){a=a||"active";c?this.parents(c).find("."+a).removeClass(a):this.parent().find("."+
a).removeClass(a);return this},imgLoad:function(a,c){var e=this.length;return c&&0<c?this.each(function(f){var b=this;d.setTimeout(function(){pluginFuncs.loadImg(b,f,e,a)},c*f)}):this.each(function(c){pluginFuncs.loadImg(this,c,e,a)})},isActive:function(a){return this.hasClass(a||"active")},unselectable:function(a){(a?this:this.add($self.find("*"))).attr({unselectable:"on"}).css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none",
"user-select":"none"});return this},unstyle:function(a){switch(h.type(a)){case "string":return this.css(a,"");case "array":for(var c={},d=a.length;d--;)c[a[d]]="";return this.css(c);case "undefined":return this.removeAttr("style");default:return console.log(Error("Parameter passed in is not of appropriate type; processing aborted.")),this}}})})(window,document,jQuery);
