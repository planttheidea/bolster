/*
 *
 * Copyright 2014 Tony Quetano under the terms of the MIT
 * license found at https://github.com/planttheidea/bolster/MIT_License.txt
 *
 * Bolster.js - An augmentation library for jQuery
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
*/
(function(e,f,h){var l=function(a){throw Error(a);},r=function(){var a={audio:f.createElement("audio"),canvas:f.createElement("canvas"),div:f.createElement("div"),input:f.createElement("input"),p:f.createElement("p"),style:f.createElement("style"),video:f.createElement("video")},b=function(b){for(var c=!1,d=b.length;d--;)if("undefined"!==a.div.style[b[d]]){c=!0;break}return c},d=function(b,c){var d=a.div.style[b];a.div.style[b]=c;return d!==a.div.style[b]?(a.div.style[b]="",!0):!1},g=function(b){return b in
a.input},c=function(b){var c=a.input.type;a.input.type=b;return c!==a.input.type?(a.input.type="text",!0):!1},k=function(b){var c=f.head||f.getElementsByTagName("head")[0],d=a.style.sheet||a.style.styleSheet;a.style.type="text/css";c.appendChild(a.style);return d&&b?(B?function(a){d.cssText=a+" { }";return 0!==d.cssText.length&&!/unknown/i.test(d.cssText)&&0===d.cssText.indexOf(a)}:function(a){try{d.insertRule(a+"{ }",0),d.deleteRule(d.cssRules.length-1)}catch(b){return!1}return!0})(b):!1};k("test");
var C=!!e.applicationCache,D=a.div.attachEvent,l=!(!a.audio.canPlayType||!a.audio.canPlayType("audio/mpeg;").replace(/no/,"")),m=!(!a.audio.canPlayType||!a.audio.canPlayType("audio/mp4;").replace(/no/,"")),t=!(!a.audio.canPlayType||!a.audio.canPlayType("audio/ogg;").replace(/no/,"")),r=b("boxShadow MozBoxShadow WebkitBoxShadow MsBoxShadow KhtmlBoxShadow OBoxShadow".split(" ")),s=!(!a.canvas.getContext||!a.canvas.getContext("2d")),E=!!f.documentElement.classList,u;u=a.div.style.animationName?!0:b(["WebkitAnimationName",
"MozAnimationName","OAnimationName","msAnimationName","KhtmlAnimationName"]);var F=b(["columnCount","webkitColumnCount","MozColumnCount"]),G=b(["boxReflect","WebkitBoxRefect"]),B=!!a.style.styleSheet,H=!!e.CustomEvent,I=!!("draggable"in a.div),J=a.div.addEventListener,K=d("display","flex"),L=!!("geolocation"in navigator),M=!!f.getElementsByClassName,N=function(b,c){c=c||a.div;support=!1;b="on"+b;support=b in c;support||(c.setAttribute(b,"return;"),support="function"===h.type(c[b]),c.removeAttribute(b));
return support}("hashchange",e),O=!(!e.history||!e.history.pushState),P=d("background-color","hsla(0,0%,0%,0)"),Q=function(){var a=["webkit","ms","moz"],b=!1;if(e.indexedDB&&e.IDBTransaction&&e.IDBKeyRange)b=!0;else for(var c=a.length;c--;)if(e[a[c]+"IndexedDB"]&&e[a[c]+"IDBTransaction"]&&e[a[c]+"IDBKeyRange"]){b=!0;break}return b}(),R=g("autocomplete"),S=g("autofocus"),T=c("color"),U=c("date"),V=c("datetime"),W=c("datetime-local"),X=c("email"),Y=g("list"),Z=g("max"),$=g("min"),aa=g("multiple"),ba=
c("month"),ca=c("number"),da=g("pattern"),ea=g("placeholder"),fa=c("range"),ga=g("required"),ha=c("search"),ia=g("step"),ja=c("tel"),ka=c("time"),la=c("url"),ma=c("week"),n;try{e.localStorage.setItem("test","test"),e.localStorage.removeItem("test"),n=!0}catch(Ia){n=!1}var v=function(){for(var a=["linear-gradient","-webkit-linear-gradient","-moz-linear-gradient","-o-linear-gradient"],b=!1,c=a.length;c--;)if(d("background",a[c]+"(-45deg,rgba(0,0,0,0) 0%,rgba(0,0,0,1) 100%)")){b=!0;break}return b?b:
d("background","-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,0)),to(rgba(0,0,0,1)))")}(),na=function(){var b=f.createElement("style"),c=!1;a.div.id="MediaTest";f.body.appendChild(a.div);b.textContent="@media screen and (min-width:1px) { #MediaTest { position:absolute; }}";f.body.appendChild(b);e.getComputedStyle&&"absolute"==e.getComputedStyle(a.div).position&&(c=!0);a.div.style="";f.body.removeChild(a.div);f.body.removeChild(b);return c}(),oa="undefined"!==h.type(e.pageXOffset)&&
"undefined"!==h.type(e.pageYOffset),pa=!!e.postMessage,qa=k(":active"),ra=k(":after"),sa=k("::after"),ta=k(":before"),ua=k("::before"),va=k(":focus"),wa=k(":hover"),xa=k("::first-letter"),ya=k("::first-line"),za=k(":link"),Aa=k(":visited"),w=function(){for(var a=["radial-gradient","-webkit-radial-gradient","-moz-radial-gradient","-o-radial-gradient"],b=!1,c=a.length;c--;)if(d("background",a[c]+"(rgb(0,0,0) 0%,rgb(255,255,255) 100%)")){b=!0;break}return b?b:d("background","-webkit-gradient(radial, center center, 0px, center center, 100%, from(rgb(0,0,0)), to(rgb(255,255,255)))")}(),
Ba=d("background-color","rgba(0,0,0,0)"),p;try{e.sessionStorage.setItem("test","test"),e.sessionStorage.removeItem("test"),p=!0}catch(Ja){p=!1}var Ca=!!(-1<f.createElementNS("http://www.w3.org/2000/svg","animateMotion").toString().indexOf("SVG")),Da=!(!f.createElementNS||!f.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),Ea=b(["textShadow"]),Fa=!!("ontouchstart"in f.documentElement||e.navigator.msMaxTouchPoints),q=b(["transform","webkitTransform","MozTransform","msTransform","OTransform"]),
x=function(){if(q){for(var a=["transform","webkitTransform","MozTransform","msTransform","OTransform"],b=!1,c=a.length;c--;)if(d(a[c],"translate3d(1px,1px,1px)")){b=!0;break}return b}return!1}(),y=!(!a.video.canPlayType||!a.video.canPlayType("video/mp4;").replace(/no/,"")),z=!(!a.video.canPlayType||!a.video.canPlayType("video/ogg;").replace(/no/,"")),A=!(!a.video.canPlayType||!a.video.canPlayType("video/webm;").replace(/no/,"")),Ga=function(){var b=!1;try{a.canvas.getContext("webgl"),b=!0}catch(c){try{a.getContext("experimental-webgl"),
b=!0}catch(d){b=!1}}return b}(),Ha=!(!e.WebSocket||!e.WebSocket.prototype.send);(function(){var b=f.head||f.getElementsByTagName("head")[0];b.contains(a.style)&&b.removeChild(a.style)})();return{applicationCache:function(){return C},attachEvent:function(){return D},audio:function(){return{mp3:l,mp4:m,ogg:t}},audioMP3:function(){return l},audioMP4:function(){return m},audioOGG:function(){return t},boxShadow:function(){return r},canvas:function(){return s},classList:function(){return E},cssAnimation:function(){return u},
cssColumn:function(){return F},cssReflection:function(){return G},customEvent:function(){return H},dragAndDrop:function(){return I},eventListener:function(){return J},flexbox:function(){return K},geolocation:function(){return L},getElementsByClassName:function(){return M},gradient:function(){return{linear:v,radial:w}},hashchange:function(){return N},history:function(){return O},hsla:function(){return P},html5Attribute:function(){return{autocomplete:R,autofocus:S,list:Y,max:Z,min:$,multiple:aa,pattern:da,
placeholder:ea,required:ga,step:ia}},html5Input:function(){return{color:T,date:U,dateTime:V,dateTimeLocal:W,email:X,month:ba,number:ca,range:fa,search:ha,tel:ja,time:ka,url:la,week:ma}},indexedDB:function(){return Q},linearGradient:function(){return v},localStorage:function(){return n},mediaQueries:function(){return na},pageOffset:function(){return oa},postMessage:function(){return pa},pseudoClass:function(){return{active:qa,after:ra,before:ta,focus:va,hover:wa,link:za,visited:Aa}},pseudoElement:function(){return{after:sa,
before:ua,firstLetter:xa,firstLine:ya}},radialGradient:function(){return w},rgba:function(){return Ba},sessionStorage:function(){return p},smil:function(){return Ca},storage:function(){return{local:n,session:p}},svg:function(){return Da},textShadow:function(){return Ea},touchEvents:function(){return Fa},transform:function(){return{twoD:q,threeD:x}},transform2d:function(){return q},transform3d:function(){return x},video:function(){return{mp4:y,ogg:z,webM:A}},videoMP4:function(){return y},videoOGG:function(){return z},
videoWebM:function(){return A},webGL:function(){return Ga},webSocket:function(){return Ha}}}(),m=function(){function a(a){var g=d[subscribeObj.name];if(0<g)for(var e in b)if(b[e])for(var f=b[e].length;f--;)b[e][f].token===g&&(delete d[a.name],b[e].splice(f,1));return this}var b={},d={},g=-1;return{getID:function(a){return d[a.name]},publish:function(a){var d=a.data||{},g,e;if(!b[a.topic])return!1;for(e=(g=b[a.topic])?g.length:0;e--;)g[e].func(d,a.topic)},subscribe:function(c){d[c.name]&&a(c);c.token=
++g;switch(h.type(c.topic)){case "string":"array"!==h.type(b[c.topic])&&(b[c.topic]=[]);b[c.topic].push({token:c.token,func:c.fn});break;case "array":for(var e=c.topic.length;e--;)"array"!==h.type(b[c.topic[e]])&&(b[c.topic[e]]=[]),b[c.topic[e]].push({token:c.token,func:c.fn});break;case "undefined":l("Must provide a topic to subscribe to; aborting processing.");break;default:l("Invalid topic type, must be either string or array; aborting processing.")}return d[c.name]=c.token},unsubscribe:a}}(),
s=function(){var a=h(e),b=a.height(),d=a.width(),g=a.scrollTop();a.off(".jQueryPlus.setWindowAttributes").on({"load.jQueryPlus.setWindowDimensions resize.jQueryPlus.setWindowDimensions":function(){b=a.height();d=a.width();m.publish({topic:"windowSize",data:{width:d,height:b}})},"scroll.jQueryPlus.setWindowDimensions":function(){g=a.scrollTop();m.publish({topic:"windowScroll",data:{scrollTop:g}})}});return{dimensions:function(){return{width:d,height:b}},height:function(){return b},scrollTop:function(){return g},
width:function(){return d}}}();(function(){var a=function(){this.clear=function(){this.resolved={};this.rejected={};this.cuid=this.puid=-1};this.resolve=function(a){this.cuid++;this.resolved[this.cuid]&&this.resolved[this.cuid].call(this,a)};this.reject=function(a){this.cuid++;this.rejected[this.cuid]&&this.rejected[this.cuid].call(this,a)};this.push=function(a,d){this.puid++;"function"===h.type(a)?this.resolved[this.puid]=a:this.resolved[this.puid]=void 0;"function"===h.type(d)?this.rejected[this.puid]=
d:this.rejected[this.puid]=function(a){l("Rejected: "+a)}};this.clear();return this};a.prototype={complete:function(a,d){this.push(a,d)},consecutive:function(a,d){var e="array"===h.type(d),c=a.length;if(!e||e&&c===d.length){for(var f=0,c=a.length;f<c;f++)e?this.push(a[f],d[f]):this.push(a[f],onRejection);return this}e&&(this.clear(),l("The length of resolve functions does not equal the length of reject functions."))},concurrent:function(b,d){if("undefined"===h.type(d)||"function"===h.type(d)){var e=
b.length,c=[];this.push(function(d){for(var f=this,h=b.length;h--;)(new a).start(function(){b[h].call(this,d)}).complete(function(a){c.push(a);c.length===e&&f.resolve(c)})},d);return this}this.clear();l("Parameter passed is not a valid type for this method.")},proceed:function(a,d){this.push(a,d);return this},start:function(a){"function"===h.type(a)&&a.call(this);return this}};h.extend({pledge:function(b){if("function"===h.type(b))return(new a).start(b);l("Parameter passed is not a valid type for this method.")}})})();
h.extend({publish:function(a){return m.publish(a)},subscribe:function(a){return m.subscribe(a)},supports:function(a){return r[a]()},unsubscribe:function(a){return m.unsubscribe(a)},window:function(a){return s[a]()}});h.fn.extend({active:function(a){return this.hasClass(a||"active")},activate:function(a,b){a=a||"active";return b?this.deactivate(a,b).addClass(a):this.deactivate(a).addClass(a)},deactivate:function(a,b){a=a||"active";b?this.parents(b).find("."+a).removeClass(a):this.parent().find("."+
a).removeClass(a);return this},imgLoad:function(a,b){var d=this.length;return b&&0<b?this.each(function(f){var c=this;e.setTimeout(function(){pluginFuncs.loadImg(c,f,d,a)},b*f)}):this.each(function(b){pluginFuncs.loadImg(this,b,d,a)})},unselectable:function(a){(a?this:this.add($self.find("*"))).attr({unselectable:"on"}).css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"});return this},
unstyle:function(a){switch(h.type(a)){case "string":return this.css(a,"");case "array":for(var b={},d=a.length;d--;)b[a[d]]="";return this.css(b);case "undefined":return this.removeAttr("style");default:return throwwError("Parameter passed in is not of appropriate type; processing aborted."),this}}})})(window,document,jQuery);
