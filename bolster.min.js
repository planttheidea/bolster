/*
 *
 * Copyright 2014 Tony Quetano under the terms of the MIT
 * license found at https://github.com/planttheidea/bolster/MIT_License.txt
 *
 * Bolster.js - An augmentation library for jQuery
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
*/
(function(h,f,d,w){var p=function(a){throw Error(a);},F=function(){var a={audio:d.createElement("audio"),canvas:d.createElement("canvas"),document:d.documentElement||d.body,div:d.createElement("div"),input:d.createElement("input"),p:d.createElement("p"),style:d.createElement("style"),video:d.createElement("video")},b=function(g){try{for(var b=!1,c=g.length;c--;)if(g[c]in a.document.style){b=!0;break}return b}catch(e){return!1}},c=function(g,b){try{var c=a.div.style[g];a.div.style[g]=b;return c!==
a.div.style[g]?(a.div.style[g]="",!0):!1}catch(e){return!1}},e=function(g){return g in a.input},l=function(g){try{var b=a.input.type;a.input.type=g;return b!==a.input.type?(a.input.type="text",!0):!1}catch(c){return!1}},n=function(g){try{var b=d.head||d.getElementsByTagName("head")[0],c=a.style.sheet||a.style.styleSheet;a.style.type="text/css";b.appendChild(a.style);return c&&g?(M?function(a){c.cssText=a+" { }";return 0!==c.cssText.length&&!/unknown/i.test(c.cssText)&&0===c.cssText.indexOf(a)}:function(a){try{c.insertRule(a+
"{ }",0),c.deleteRule(c.cssRules.length-1)}catch(g){return!1}return!0})(g):!1}catch(e){return!1}};n("test");var t=!!f.applicationCache,u=a.div.attachEvent,r=!!a.audio.canPlayType,k=!(!a.audio.canPlayType||!a.audio.canPlayType("audio/mpeg;").replace(/no/,"")),p=!(!a.audio.canPlayType||!a.audio.canPlayType("audio/mp4;").replace(/no/,"")),q=!(!a.audio.canPlayType||!a.audio.canPlayType("audio/ogg;").replace(/no/,"")),x=b("boxShadow MozBoxShadow WebkitBoxShadow MsBoxShadow KhtmlBoxShadow OBoxShadow".split(" ")),
g=!(!a.canvas.getContext||!a.canvas.getContext("2d")),y=!!d.documentElement.classList,z;z=a.div.style.animationName?!0:b(["WebkitAnimationName","MozAnimationName","OAnimationName","msAnimationName","KhtmlAnimationName"]);var A=c("width","calc(100% - 10px)"),v=b(["columnCount","webkitColumnCount","MozColumnCount"]),B=b(["boxReflect","WebkitBoxRefect"]),M=!!a.style.styleSheet,m=!!f.CustomEvent,N=!!("draggable"in a.div),w=a.div.addEventListener,O=c("display","flex"),C=!!("geolocation"in navigator),F=
(d.documentElement||d.body).getBoundingClientRect,G=!!d.getElementsByClassName,P=function(g,b){try{return b=b||a.div,support=!1,g="on"+g,support=g in b,support||(b.setAttribute(g,"return;"),support="function"===h.type(b[g]),b.removeAttribute(g)),support}catch(c){return!1}}("hashchange",f),Q=!(!f.history||!f.history.pushState),R=c("background-color","hsla(0,0%,0%,0)"),S=function(){try{var a=["webkit","ms","moz"],g=!1;if(f.indexedDB&&f.IDBTransaction&&f.IDBKeyRange)g=!0;else for(var b=a.length;b--;)if(f[a[b]+
"IndexedDB"]&&f[a[b]+"IDBTransaction"]&&f[a[b]+"IDBKeyRange"]){g=!0;break}return g}catch(c){return!1}}(),T=e("autocomplete"),U=e("autofocus"),V=l("color"),W=l("date"),X=l("datetime"),Y=l("datetime-local"),Z=l("email"),aa=e("list"),ba=e("max"),ca=e("min"),da=e("multiple"),ea=l("month"),fa=l("number"),ga=e("pattern"),ha=e("placeholder"),ia=l("range"),ja=e("required"),ka=l("search"),la=e("step"),ma=l("tel"),na=l("time"),oa=l("url"),pa=l("week"),qa=!(!JSON||"function"!==h.type(JSON.parse)),D;try{f.localStorage.setItem("test",
"test"),f.localStorage.removeItem("test"),D=!0}catch(Sa){D=!1}var J=function(){try{for(var a=["linear-gradient","-webkit-linear-gradient","-moz-linear-gradient","-o-linear-gradient"],g=!1,b=a.length;b--;)if(c("background",a[b]+"(-45deg,rgba(0,0,0,0) 0%,rgba(0,0,0,1) 100%)")){g=!0;break}return g?g:c("background","-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,0)),to(rgba(0,0,0,1)))")}catch(e){return!1}}(),ra=function(){try{var g=d.createElement("style"),b=!1;a.div.id="MediaTest";d.body.appendChild(a.div);
g.textContent="@media screen and (min-width:1px) { #MediaTest { position:absolute; }}";d.body.appendChild(g);f.getComputedStyle&&"absolute"==f.getComputedStyle(a.div).position&&(b=!0);a.div.style="";d.body.removeChild(a.div);d.body.removeChild(g);return b}catch(c){return!1}}(),sa=b(["opacity"]),ta="undefined"!==h.type(f.pageXOffset)&&"undefined"!==h.type(f.pageYOffset),ua=!!f.postMessage,va=n(":active"),wa=n(":after"),xa=n("::after"),ya=n(":before"),za=n("::before"),Aa=n(":focus"),Ba=n(":hover"),
Ca=n("::first-letter"),Da=n("::first-line"),Ea=n(":link"),Fa=n(":visited"),K=function(){try{for(var a=["radial-gradient","-webkit-radial-gradient","-moz-radial-gradient","-o-radial-gradient"],g=!1,b=a.length;b--;)if(c("background",a[b]+"(rgb(0,0,0) 0%,rgb(255,255,255) 100%)")){g=!0;break}return g?g:c("background","-webkit-gradient(radial, center center, 0px, center center, 100%, from(rgb(0,0,0)), to(rgb(255,255,255)))")}catch(e){return!1}}(),Ga=c("background-color","rgba(0,0,0,0)"),E;try{f.sessionStorage.setItem("test",
"test"),f.sessionStorage.removeItem("test"),E=!0}catch(Ta){E=!1}var Ha=!!(d.createElementNS&&-1<d.createElementNS("http://www.w3.org/2000/svg","animateMotion").toString().indexOf("SVG")),Ia=!(!d.createElementNS||!d.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),Ja=b(["textShadow"]),Ka=!!("ontouchstart"in d.documentElement||f.navigator.msMaxTouchPoints),H=b(["transform","WebkitTransform","MozTransform","msTransform","OTransform"]),L=function(){if(H)try{for(var a=["transform","WebkitTransform",
"MozTransform","msTransform","OTransform"],g=!1,b=a.length;b--;)if(c(a[b],"translate3d(1px,1px,1px)")){g=!0;break}return g}catch(e){return!1}else return!1}(),La=b(["transition","WebkitTransition","MozTransition","OTransition"]),Ma=!!a.video.canPlayType,Na=!(!a.video.canPlayType||!a.video.canPlayType("video/mp4;").replace(/no/,"")),Oa=!(!a.video.canPlayType||!a.video.canPlayType("video/ogg;").replace(/no/,"")),Pa=!(!a.video.canPlayType||!a.video.canPlayType("video/webm;").replace(/no/,"")),Qa=function(){try{var g=
!1;try{a.canvas.getContext("webgl"),g=!0}catch(b){try{a.getContext("experimental-webgl"),g=!0}catch(c){g=!1}}return g}catch(e){return!1}}(),Ra=!(!f.WebSocket||!f.WebSocket.prototype.send);(function(){var g=d.head||d.getElementsByTagName("head")[0];g.contains(a.style)&&g.removeChild(a.style)})();return{applicationCache:function(){return t},attachEvent:function(){return u},audio:function(){return r},audioMP3:function(){return k},audioMP4:function(){return p},audioOGG:function(){return q},boxShadow:function(){return x},
canvas:function(){return g},classList:function(){return y},cssAnimation:function(){return z},cssCalc:function(){return A},cssColumn:function(){return v},cssReflection:function(){return B},customEvent:function(){return m},dragAndDrop:function(){return N},eventListener:function(){return w},flexbox:function(){return O},geolocation:function(){return C},getBoundingClientRect:function(){return F},getElementsByClassName:function(){return G},gradient:function(){return{linear:J,radial:K}},hashchange:function(){return P},
history:function(){return Q},hsla:function(){return R},html5Attribute:function(){return{autocomplete:T,autofocus:U,list:aa,max:ba,min:ca,multiple:da,pattern:ga,placeholder:ha,required:ja,step:la}},html5Input:function(){return{color:V,date:W,dateTime:X,dateTimeLocal:Y,email:Z,month:ea,number:fa,range:ia,search:ka,tel:ma,time:na,url:oa,week:pa}},indexedDB:function(){return S},json:function(){return qa},linearGradient:function(){return J},localStorage:function(){return D},mediaQueries:function(){return ra},
opacity:function(){return sa},pageOffset:function(){return ta},postMessage:function(){return ua},pseudoClass:function(){return{active:va,after:wa,before:ya,focus:Aa,hover:Ba,link:Ea,visited:Fa}},pseudoElement:function(){return{after:xa,before:za,firstLetter:Ca,firstLine:Da}},radialGradient:function(){return K},rgba:function(){return Ga},sessionStorage:function(){return E},smil:function(){return Ha},storage:function(){return{local:D,session:E}},svg:function(){return Ia},textShadow:function(){return Ja},
touchEvents:function(){return Ka},transform:function(){return{twoD:H,threeD:L}},transform2d:function(){return H},transform3d:function(){return L},transition:function(){return La},video:function(){return Ma},videoMP4:function(){return Na},videoOGG:function(){return Oa},videoWebM:function(){return Pa},webGL:function(){return Qa},webSocket:function(){return Ra}}}(),v=function(){function a(a){if(0<e[a])for(var b in c)if(c[b])for(var d=c[b].length;d--;)c[b][d].token!==e[a]||c[b][d].persistent||(delete e[a],
c[b].splice(d,1))}function b(b,e,d,l,f){"array"!==h.type(c[b])&&(c[b]=[]);d&&(e=function(){e.call();a(l)});c[b].push({token:f,func:e})}var c={},e={};persistentIDs={};var d=-1;return{publish:function(a){var b=a.data||{},e,d;if(!c[a.topic])return!1;for(d=(e=c[a.topic])?e.length:0;d--;)e[d].func(b,a.topic);return this},subscribe:function(c){if("string"!==h.type(c.name))return p("Name passed is not a string."),!1;e[c.name]&&a(c.name);e[c.name]=++d;c.persistent&&(persistentIDs[c.name]=d);switch(h.type(c.topic)){case "string":b(c.topic,
c.fn,c.once,c.name,e[c.name]);break;case "array":for(var f=c.topic.length;f--;)b(c.topic[f],c.fn,c.once,c.name,e[c.name]);break;case "undefined":p("Must provide a topic to subscribe to.");break;default:p("Invalid topic type, must be either string or array.")}return this},unsubscribe:function(b){b=b||{};switch(h.type(b.name)){case "string":a(b.name);break;case "array":for(var c=b.name.length;c--;)a(b.name[c]);break;case "undefined":for(c in e)persistentIDs[c]||a(c);break;default:p("Name passed is not of valid type.")}return this}}}(),
C=function(){function a(a){return{fullscreenActive:k,fullscreenElement:r,hash:y,height:e,hostname:z,href:q,page:x,querystring:B,scrollTop:n,width:l}}function b(){y=g()}var c=h(f),e=c.height(),l=c.width(),n=c.scrollTop(),t=d.createElement("video"),u=function(){return t.requestFullScreen?{active:function(){return null!==d.fullscreenElement},element:function(){return d.fullscreenElement},enter:function(a){a.requestFullscreen()},exit:function(){d.exitFullscreen()}}:t.webkitRequestFullscreen?{active:function(){return null!==
d.webkitFullscreenElement},element:function(){return d.webkitFullscreenElement},enter:function(a){a.webkitRequestFullscreen()},exit:function(){d.webkitExitFullscreen()}}:t.mozRequestFullScreen?{active:function(){return null!==d.mozFullScreenElement},element:function(){return d.mozFullScreenElement},enter:function(a){a.mozRequestFullScreen()},exit:function(){d.mozCancelFullScreen()}}:t.msRequestFullscreen?{active:function(){return null!==d.msFullscreenElement},element:function(){return d.msFullscreenElement},
enter:function(a){a.msRequestFullscreen()},exit:function(){d.msExitFullscreen()}}:{active:function(){return!1},element:function(){return w},enter:function(){p("Fullscreen API is not supported.")},exit:function(){p("Fullscreen API is not supported.")}}}(),r=u.element(),k=u.active(),m=function(){return Array.prototype.lastIndexOf?function(a){return a.substring(a.lastIndexOf("/")+1).split("#")[0].split("?")[0]}:function(a){a=a.split("/");return a[a.length-1].split("#")[0].split("?")[0]}}(),q=f.location.href,
x=m(q),g=function(){return f.location.hash.replace("#","")},y=g,z=f.location.hostname||f.location.host,A=f.location.search.substr(1),I=function(){for(var a=A.split("&"),b={},g=0,c=a.length;g<c;g++){var e=a[g].split("=");0<e[0].length&&(b[e[0]]=e[1])}return b},B=I();c.off(".bolster.setWindowAttributes").on({"webkitfullscreenchange.bolster.setWindowAttributes mozfullscreenchange.bolster.setWindowAttributes fullscreenchange.bolster.setWindowAttributes MSFullscreenChange.bolster.setWindowAttributes":function(){r=
u.element();k=u.active();v.publish({topic:"fullscreenChange",data:{fullscreenActive:k,fullscreenElement:r}})},"load.bolster.setWindowAttributes":function(g){v.publish({topic:"windowLoad",data:a(g)})},"hashchange.bolster.setWindowAttributes":b,"resize.bolster.setWindowAttributes":function(){e=c.height();l=c.width();v.publish({topic:"windowResize",data:{height:e,width:l}})},"popstate.bolster.setWindowAttributes":function(a){v.publish({topic:"popstateChange",data:{event:a,originalState:a.originalEvent.state}});
b();q=f.location.href;A=f.location.search.substr(1);B=I();x=m(f.location.href)},"scroll.bolster.setWindowAttributes":function(){n=c.scrollTop();v.publish({topic:"windowScroll",data:{scrollTop:n}})}});return{attributes:a,dimensions:function(){return{width:l,height:e}},enterFullscreen:function(a){return u.enter(a)},exitFullscreen:function(){return u.exit()},fullscreenElement:function(){return r},hash:function(){return y},height:function(){return e},hostname:function(){return z},href:function(){return q},
isFullscreen:function(){return k},page:function(a){return a?m(a):x},querystring:function(a){return a?A:B},scrollTop:function(){return n},width:function(){return l},window:function(){return c}}}(),G=function(){function a(){return{anchors:d.anchors,characterSet:l,forms:d.forms,height:e,images:d.images,links:d.links,page:C.page(),referrer:r,styleSheets:t,styleSheetSets:u,title:d.title,uri:f,width:c}}var b=h(d),c=b.width(),e=b.height(),l=d.characterSet||d.charset,f=d.documentURI,t=d.styleSheets,u=d.styleSheetSets,
r=d.referrer;b.off(".bolster.setDocumentAttributes").on({"ready.bolster.setDocumentAttributes":function(){v.publish({topic:"documentReady",data:a()})},"resize.bolster.setDocumentAttributes":function(){c=b.width();e=b.height();v.publish({topic:"documentResize",data:{height:e,width:c}})}});return{anchors:function(){return d.anchors},attributes:a,characterSet:function(){return l},document:function(){return b},forms:function(){return d.forms},height:function(){return e},images:function(){return d.images},
links:function(){return d.links},referrer:function(){return r},styleSheets:function(){return t},styleSheetSets:function(){return u},title:function(){return d.title},uri:function(){return f},width:function(){return c}}}();(function(){function a(a,b){if(a){if(b)return k[b][a];var c=k.local[a],e=k.session[a];return c?e?{local:c,session:e}:c:e?e:w}return b?k[b]:k}function b(a,b,c){c=c||"session";if(a&&b)"string"!==h.type(b)&&(b=JSON.stringify(b)),"local"===c?p.local(a,b):"session"===c&&p.session(a,b);
else throw Error("Must pass name and value of storage item to assign.");}function c(a,b){if(a)b?"local"===b?q.local(a):q.session(a):(q.local(a),q.session(a));else if(b)if("local"===b)for(var c in k.local)q.local(c);else{if("session"===b)for(c in k.session)q.session(c)}else{for(c in k.local)q.local(c);for(c in k.session)q.session(c)}}var e;try{f.localStorage.setItem("t","t"),f.localStorage.removeItem("t"),e=!0}catch(l){e=!1}var n=e,t;try{f.sessionStorage.setItem("t","t"),f.sessionStorage.removeItem("t"),
t=!0}catch(u){t=!1}var r=t,k={local:function(){var a={};if(n)for(var b in f.localStorage){if(b&&null!==b){var c=f.localStorage[b];try{var e=JSON.parse(c),c=e}catch(l){}a[b]=c}}else if(d.cookie)for(var h=d.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),k=0,m=h.length;k<m;k++){h[k]=decodeURIComponent(h[k]);c=decodeURIComponent(d.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(h[k]).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),
"$1"));try{c=e=JSON.parse(c)}catch(r){}a[b]=c}return a}(),session:function(){var a={};if(r)for(var b in f.localStorage)switch(h.type(b)){case "undefined":case "null":break;default:var c=f.localStorage[b];try{c=JSON.parse(c)}catch(e){}a[b]=c}return a}()},p={local:function(){return n?function(a,b){a&&a.length&&(k.local[a]=b,f.localStorage.setItem(a,b))}:function(a,b){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;k.local[a]=b;d.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+
"; expires=Fri, 31 Dec 9999 23:59:59 GMT";return!0}}(),session:function(){return r?function(a,b){a&&a.length&&(k.session[a]=b,f.sessionStorage.setItem(a,b))}:function(a,b){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;k.session[name]=b;d.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b);return!0}}()},q={local:function(){return n?function(a){k.local[a]&&(delete k.local[a],f.localStorage.removeItem(a))}:function(a){k.local[a]&&(delete k.local[a],d.cookie=encodeURIComponent(a)+
"=; expires=Thu, 01 Jan 1970 00:00:00 GMT")}}(),session:function(){return r?function(a){k.session[a]&&(delete k.session[a],f.sessionStorage.removeItem(a))}:function(a){k.session[a]&&(delete k.session[a],d.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT")}}()},m;m={get:function(b,c){switch(h.type(b)){case "object":switch(h.type(b.data)){case "string":return a(b.data,b.type||c);case "array":for(var e={},d=0,l=b.data.length;d<l;d++)e[b.data[d]]=a(b.data[d],b.type||c);return e;
default:throw Error("Invalid type passed to get, must be either an array or a string.");}case "array":e={};d=0;for(l=b.length;d<l;d++)e[b[d]]=a(b[d],c);return e;case "string":switch(b){case "local":case "session":return k[b];default:return a(b,c)}case "undefined":return k;default:throw Error("Invalid type passed to get, must be either an array or a string.");}},remove:function(a,b){switch(h.type(a)){case "object":switch(h.type(a.data)){case "string":c(a.data,a.type||b);break;case "array":for(var e=
0,d=a.data.length;e<d;e++)c(a.data[e],a.type||b);break;default:throw Error("Invalid type passed to get, must be either an array or a string.");}break;case "array":e=0;for(d=a.length;e<d;e++)c(a[e],b);break;case "string":switch(a){case "local":case "session":for(e in k[a])c(e);break;default:c(a,b)}break;case "undefined":for(e in k.local)c(e);for(e in k.session)c(e);break;default:throw Error("Invalid type passed to remove, must be either an object or array (for multiple keys), or a string (for a single key).");
}},set:function(a,c,e){switch(h.type(a)){case "object":if("object"===h.type(a.data))for(var d in a.data)return b(d,a.data[d],a.type);else throw Error("Invalid type passed to data, must be an object.");break;case "string":return b(a,c,e);default:throw Error("Invalid type passed to set, must be either an object (for multiple keys) or a string (for a single key).");}}};h.extend({storage:function(){var a=Array.prototype.slice.call(arguments),b=a.shift();if(b)switch(h.type(b)){case "object":if("undefined"!==
h.type(b.action))m[b.action](b);else m.get(b);break;case "string":m[b](a);break;case "array":m.get(a)}else return m}})})();(function(){var a=function(){this.init=function(){this.resolved={};this.rejected={};this.cuid=this.puid=-1};this.resolve=function(a){this.cuid++;this.resolved[this.cuid]&&this.resolved[this.cuid].call(this,a)};this.reject=function(a){this.cuid++;this.rejected[this.cuid]&&this.rejected[this.cuid].call(this,a)};this.push=function(a,c){this.puid++;"function"===h.type(a)?this.resolved[this.puid]=
a:this.resolved[this.puid]=w;"function"===h.type(c)?this.rejected[this.puid]=c:this.rejected[this.puid]=function(a){p("Rejected: "+(a||""))}};this.init();return this};a.prototype={complete:function(a,c){this.push(a,c)},consecutive:function(a,c){var e=h.type(c),d=!1;switch(e){case "array":case "function":case "undefined":d=!0;break;default:d=!1}if("array"===h.type(a)&&d){for(var e="array"===e,d=0,f=a.length;d<f;d++)e?this.push(a[d],c[d]):this.push(a[d],c);return this}p("Parameter passed is not a valid type for this method.")},
concurrent:function(b,c){var e=!1;switch(h.type(onRejections)){case "function":case "undefined":e=!0;break;default:e=!1}if(e){var d=function(b,c,e){(new a).start(function(){b.call(this,e)}).complete(function(a){m.push(a);m.length===f&&c.resolve(m)})},f=b.length,m=[];return this.proceed(function(a){for(var c=f;c--;)d(b[c],this,a)},c)}p("Parameter passed is not a valid type for this method.")},proceed:function(a,c){this.push(a,c);return this},start:function(a){if("function"===h.type(a)){var c=this;
f.setTimeout(function(){a.call(c)},0);return c}},wait:function(a,c){var e=this,d;a||p("Parameter passed is not a valid type for this method.");switch(h.type(c)){case "boolean":d=c;break;case "function":d=c();break;default:d=!0}return e.proceed(function(c){f.setTimeout(function(){d?e.resolve.call(e,c):e.reject.call(e,"Test did not pass.")},a)})}};h.extend({pledge:function(b){if("function"===h.type(b))return(new a).start(b);p("Must pass function into $.pledge.")},postpone:function(){return new postpone}})})();
var m={clientRect:function(){return F.getBoundingClientRect()?function(a){a=a[0].getBoundingClientRect();return{bottom:Math.round(a.bottom),height:Math.round(a.height||a.bottom-a.top),left:Math.round(a.left),right:Math.round(a.right),top:Math.round(a.top),width:Math.round(a.width||a.right-a.left)}}:function(a){var b=a.eq(0),c=b[0];a=Math.max(c.scrollHeight,c.offsetHeight,c.clientHeight);var c=Math.max(c.scrollWidth,c.offsetWidth,c.clientWidth),b=b.offset(),e=d.body;return{bottom:Math.round(b.top-
e.scrollTop+a),height:Math.round(a),left:Math.round(b.left-e.scrollLeft),right:Math.round(b.left-e.scrollLeft+c),top:Math.round(b.top-e.scrollTop),width:Math.round(c)}}}(),loadImg:function(a,b,c,e){if("function"===h.type(e)){var d=new Image;d.src=a.src;d.complete||4===d.readyState||"complete"===d.readyState?e.call(a,{height:a.height,naturalHeight:d.naturalHeight||d.height,naturalWidth:d.naturalWidth||d.width,percentComplete:Math.floor(100*(b+1)/c),src:a.src,width:a.width}):(d.onload=function(){e.call(a,
{height:a.height,naturalHeight:d.naturalHeight||d.height,naturalWidth:d.naturalWidth||d.width,percentComplete:Math.floor(100*(b+1)/c),src:a.src,width:a.width})},d.src=a.src)}},naturalDimensions:{height:function(a){var b=new Image;b.onload=function(){return b.naturalHeight||b.height};b.src=a.src},width:function(a){var b=new Image;b.onload=function(){return b.naturalWidth||b.width};b.src=a.src}}};h.extend({document:function(a,b){return a?G[a](b):G.document()},publish:function(a){return v.publish(a)},
subscribe:function(a){return v.subscribe(a)},supports:function(a){return F[a]()},unsubscribe:function(a){return v.unsubscribe(a)},window:function(a,b){return a?C[a](b):C.window()}});h.fn.extend({active:function(a){return this.hasClass(a||"active")},activate:function(a,b){a=a||"active";return b?this.deactivate(a,b).addClass(a):this.deactivate(a).addClass(a)},boundingBox:function(a){if(a){var b;switch(h.type(a)){case "string":b=m.clientRect(this)[a];break;case "array":b={};for(var c=0,d=a.length;c<
d;c++)b[a[c]]=m.clientRect(this)[a[c]];break;default:b=w}return b}return m.clientRect(this)},dataFilter:function(a,b){return"object"===h.type(a)?this.filter(function(){var b=h(this).data(),d,f;for(f in a)if(d=b.hasOwnProperty(f)&&b[f]===a[f],!d)break;return d}):this.filter(function(){return h(this).data(a)===val})},deactivate:function(a,b){a=a||"active";b?this.parents("."+b).find("."+a).removeClass(a):this.parent().find("."+a).removeClass(a);return this},imgLoad:function(a,b){var c=this.length;return b&&
0<b?this.each(function(d){var h=this;f.setTimeout(function(){m.loadImg(h,d,c,a)},b*d)}):this.each(function(b){m.loadImg(this,b,c,a)})},naturalHeight:function(){return m.naturalDimensions.height(this.get(0))},naturalWidth:function(){return m.naturalDimensions.width(this.get(0))},unselectable:function(a){(a?this:this.add(this.find("*"))).attr({unselectable:"on"}).css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none",
"user-select":"none"});return this},unstyle:function(a){switch(h.type(a)){case "string":return this.css(a,"");case "array":for(var b={},c=a.length;c--;)b[a[c]]="";return this.css(b);case "undefined":return this.removeAttr("style");default:return p("Parameter passed in is not of appropriate type; processing aborted."),this}}})})(window.jQuery,window,document);
