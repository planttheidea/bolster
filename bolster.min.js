/*
 *
 * Copyright 2014 Tony Quetano under the terms of the MIT
 * license found at https://github.com/planttheidea/bolster/MIT_License.txt
 *
 * Bolster.js - An augmentation library for jQuery
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
*/
(function(f,g,h){var l=function(a){throw Error(a);},r=function(){var a={audio:g.createElement("audio"),canvas:g.createElement("canvas"),div:g.createElement("div"),input:g.createElement("input"),p:g.createElement("p"),style:g.createElement("style"),video:g.createElement("video")},e=function(d){for(var c=!1,b=d.length;b--;)if("undefined"!==a.div.style[d[b]]){c=!0;break}return c},d=function(d,c){var b=a.div.style[d];a.div.style[d]=c;return b!==a.div.style[d]?(a.div.style[d]="",!0):!1},b=function(d){return d in
a.input},c=function(d){var c=a.input.type;a.input.type=d;return c!==a.input.type?(a.input.type="text",!0):!1},k=function(d){var c=g.head||g.getElementsByTagName("head")[0],b=a.style.sheet||a.style.styleSheet;a.style.type="text/css";c.appendChild(a.style);return b&&d?(B?function(a){b.cssText=a+" { }";return 0!==b.cssText.length&&!/unknown/i.test(b.cssText)&&0===b.cssText.indexOf(a)}:function(a){try{b.insertRule(a+"{ }",0),b.deleteRule(b.cssRules.length-1)}catch(d){return!1}return!0})(d):!1};k("test");
var C=!!f.applicationCache,D=a.div.attachEvent,t=!(!a.audio.canPlayType||!a.audio.canPlayType("audio/mpeg;").replace(/no/,"")),l=!(!a.audio.canPlayType||!a.audio.canPlayType("audio/mp4;").replace(/no/,"")),m=!(!a.audio.canPlayType||!a.audio.canPlayType("audio/ogg;").replace(/no/,"")),r=e("boxShadow MozBoxShadow WebkitBoxShadow MsBoxShadow KhtmlBoxShadow OBoxShadow".split(" ")),s=!(!a.canvas.getContext||!a.canvas.getContext("2d")),E=!!g.documentElement.classList,u;u=a.div.style.animationName?!0:e(["WebkitAnimationName",
"MozAnimationName","OAnimationName","msAnimationName","KhtmlAnimationName"]);var F=e(["columnCount","webkitColumnCount","MozColumnCount"]),G=e(["boxReflect","WebkitBoxRefect"]),B=!!a.style.styleSheet,H=!!f.CustomEvent,I=!!("draggable"in a.div),J=a.div.addEventListener,K=d("display","flex"),L=!!("geolocation"in navigator),M=!!g.getElementsByClassName,N=function(d,c){c=c||a.div;support=!1;d="on"+d;support=d in c;support||(c.setAttribute(d,"return;"),support="function"===h.type(c[d]),c.removeAttribute(d));
return support}("hashchange",f),O=!(!f.history||!f.history.pushState),P=d("background-color","hsla(0,0%,0%,0)"),Q=function(){var a=["webkit","ms","moz"],d=!1;if(f.indexedDB&&f.IDBTransaction&&f.IDBKeyRange)d=!0;else for(var c=a.length;c--;)if(f[a[c]+"IndexedDB"]&&f[a[c]+"IDBTransaction"]&&f[a[c]+"IDBKeyRange"]){d=!0;break}return d}(),R=b("autocomplete"),S=b("autofocus"),T=c("color"),U=c("date"),V=c("datetime"),W=c("datetime-local"),X=c("email"),Y=b("list"),Z=b("max"),$=b("min"),aa=b("multiple"),ba=
c("month"),ca=c("number"),da=b("pattern"),ea=b("placeholder"),fa=c("range"),ga=b("required"),ha=c("search"),ia=b("step"),ja=c("tel"),ka=c("time"),la=c("url"),ma=c("week"),n;try{f.localStorage.setItem("test","test"),f.localStorage.removeItem("test"),n=!0}catch(Ia){n=!1}var v=function(){for(var a=["linear-gradient","-webkit-linear-gradient","-moz-linear-gradient","-o-linear-gradient"],c=!1,b=a.length;b--;)if(d("background",a[b]+"(-45deg,rgba(0,0,0,0) 0%,rgba(0,0,0,1) 100%)")){c=!0;break}return c?c:
d("background","-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,0)),to(rgba(0,0,0,1)))")}(),na=function(){var d=g.createElement("style"),c=!1;a.div.id="MediaTest";g.body.appendChild(a.div);d.textContent="@media screen and (min-width:1px) { #MediaTest { position:absolute; }}";g.body.appendChild(d);f.getComputedStyle&&"absolute"==f.getComputedStyle(a.div).position&&(c=!0);a.div.style="";g.body.removeChild(a.div);g.body.removeChild(d);return c}(),oa="undefined"!==h.type(f.pageXOffset)&&
"undefined"!==h.type(f.pageYOffset),pa=!!f.postMessage,qa=k(":active"),ra=k(":after"),sa=k("::after"),ta=k(":before"),ua=k("::before"),va=k(":focus"),wa=k(":hover"),xa=k("::first-letter"),ya=k("::first-line"),za=k(":link"),Aa=k(":visited"),w=function(){for(var a=["radial-gradient","-webkit-radial-gradient","-moz-radial-gradient","-o-radial-gradient"],c=!1,b=a.length;b--;)if(d("background",a[b]+"(rgb(0,0,0) 0%,rgb(255,255,255) 100%)")){c=!0;break}return c?c:d("background","-webkit-gradient(radial, center center, 0px, center center, 100%, from(rgb(0,0,0)), to(rgb(255,255,255)))")}(),
Ba=d("background-color","rgba(0,0,0,0)"),p;try{f.sessionStorage.setItem("test","test"),f.sessionStorage.removeItem("test"),p=!0}catch(Ja){p=!1}var Ca=!!(-1<g.createElementNS("http://www.w3.org/2000/svg","animateMotion").toString().indexOf("SVG")),Da=!(!g.createElementNS||!g.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),Ea=e(["textShadow"]),Fa=!!("ontouchstart"in g.documentElement||f.navigator.msMaxTouchPoints),q=e(["transform","webkitTransform","MozTransform","msTransform","OTransform"]),
x=function(){if(q){for(var a=["transform","webkitTransform","MozTransform","msTransform","OTransform"],c=!1,b=a.length;b--;)if(d(a[b],"translate3d(1px,1px,1px)")){c=!0;break}return c}return!1}(),y=!(!a.video.canPlayType||!a.video.canPlayType("video/mp4;").replace(/no/,"")),z=!(!a.video.canPlayType||!a.video.canPlayType("video/ogg;").replace(/no/,"")),A=!(!a.video.canPlayType||!a.video.canPlayType("video/webm;").replace(/no/,"")),Ga=function(){var d=!1;try{a.canvas.getContext("webgl"),d=!0}catch(c){try{a.getContext("experimental-webgl"),
d=!0}catch(b){d=!1}}return d}(),Ha=!(!f.WebSocket||!f.WebSocket.prototype.send);(function(){var d=g.head||g.getElementsByTagName("head")[0];d.contains(a.style)&&d.removeChild(a.style)})();return{applicationCache:function(){return C},attachEvent:function(){return D},audio:function(){return{mp3:t,mp4:l,ogg:m}},audioMP3:function(){return t},audioMP4:function(){return l},audioOGG:function(){return m},boxShadow:function(){return r},canvas:function(){return s},classList:function(){return E},cssAnimation:function(){return u},
cssColumn:function(){return F},cssReflection:function(){return G},customEvent:function(){return H},dragAndDrop:function(){return I},eventListener:function(){return J},flexbox:function(){return K},geolocation:function(){return L},getElementsByClassName:function(){return M},gradient:function(){return{linear:v,radial:w}},hashchange:function(){return N},history:function(){return O},hsla:function(){return P},html5Attribute:function(){return{autocomplete:R,autofocus:S,list:Y,max:Z,min:$,multiple:aa,pattern:da,
placeholder:ea,required:ga,step:ia}},html5Input:function(){return{color:T,date:U,dateTime:V,dateTimeLocal:W,email:X,month:ba,number:ca,range:fa,search:ha,tel:ja,time:ka,url:la,week:ma}},indexedDB:function(){return Q},linearGradient:function(){return v},localStorage:function(){return n},mediaQueries:function(){return na},pageOffset:function(){return oa},postMessage:function(){return pa},pseudoClass:function(){return{active:qa,after:ra,before:ta,focus:va,hover:wa,link:za,visited:Aa}},pseudoElement:function(){return{after:sa,
before:ua,firstLetter:xa,firstLine:ya}},radialGradient:function(){return w},rgba:function(){return Ba},sessionStorage:function(){return p},smil:function(){return Ca},storage:function(){return{local:n,session:p}},svg:function(){return Da},textShadow:function(){return Ea},touchEvents:function(){return Fa},transform:function(){return{twoD:q,threeD:x}},transform2d:function(){return q},transform3d:function(){return x},video:function(){return{mp4:y,ogg:z,webM:A}},videoMP4:function(){return y},videoOGG:function(){return z},
videoWebM:function(){return A},webGL:function(){return Ga},webSocket:function(){return Ha}}}(),m=function(){function a(a){var b=d[subscribeObj.name];if(0<b)for(var f in e)if(e[f])for(var g=e[f].length;g--;)e[f][g].token===b&&(delete d[a.name],e[f].splice(g,1));return this}var e={},d={},b=-1;return{getID:function(a){return d[a.name]},publish:function(a){var d=a.data||{},b,f;if(!e[a.topic])return!1;for(f=(b=e[a.topic])?b.length:0;f--;)b[f].func(d,a.topic)},subscribe:function(c){d[c.name]&&a(c);c.token=
++b;switch(h.type(c.topic)){case "string":"array"!==h.type(e[c.topic])&&(e[c.topic]=[]);e[c.topic].push({token:c.token,func:c.fn});break;case "array":for(var f=c.topic.length;f--;)"array"!==h.type(e[c.topic[f]])&&(e[c.topic[f]]=[]),e[c.topic[f]].push({token:c.token,func:c.fn});break;case "undefined":l("Must provide a topic to subscribe to; aborting processing.");break;default:l("Invalid topic type, must be either string or array; aborting processing.")}return d[c.name]=c.token},unsubscribe:a}}(),
s=function(){var a=h(f),e=a.height(),d=a.width(),b=a.scrollTop();a.off(".jQueryPlus.setWindowAttributes").on({"load.jQueryPlus.setWindowDimensions resize.jQueryPlus.setWindowDimensions":function(){e=a.height();d=a.width();m.publish({topic:"windowSize",data:{width:d,height:e}})},"scroll.jQueryPlus.setWindowDimensions":function(){b=a.scrollTop();m.publish({topic:"windowScroll",data:{scrollTop:b}})}});return{dimensions:function(){return{width:d,height:e}},height:function(){return e},scrollTop:function(){return b},
width:function(){return d}}}();(function(){var a=function(){this.init=function(){this.resolved={};this.rejected={};this.cuid=this.puid=-1};this.resolve=function(a){this.cuid++;this.resolved[this.cuid]&&this.resolved[this.cuid].call(this,a)};this.reject=function(a){this.cuid++;this.rejected[this.cuid]&&this.rejected[this.cuid].call(this,a)};this.push=function(a,b){this.puid++;"function"===h.type(a)?this.resolved[this.puid]=a:this.resolved[this.puid]=void 0;"function"===h.type(b)?this.rejected[this.puid]=
b:this.rejected[this.puid]=function(a){l("Rejected: "+(a||""))}};this.init();return this},e=function(){var d=this;this.resolve=function(a){this.resolvePostpone=!0;this.resolveData=a};this.reject=function(a){this.rejectPostpone=!0;this.rejectData=a};this.pledge=function(){return(new a).start(function(){d.resolvePostpone?this.resolve(d.resolveData):d.rejectPostpone&&this.reject(d.rejectData)})}};a.prototype={complete:function(a,b){this.push(a,b)},consecutive:function(a,b){for(var c="array"===h.type(b),
f=a.length,e=0,f=a.length;e<f;e++)c?this.push(a[e],b[e]):this.push(a[e],b);return this},concurrent:function(d,b){if("undefined"===h.type(b)||"function"===h.type(b)){var c=function(d,c,b){(new a).start(function(){d.call(this,b)}).complete(function(a){f.push(a);f.length===e&&c.resolve(f)})},e=d.length,f=[];return this.proceed(function(a){for(var b=d.length;b--;)c(d[b],this,a)},b)}this.init();l("Parameter passed is not a valid type for this method.")},proceed:function(a,b){this.push(a,b);return this},
start:function(a){if("function"===h.type(a)){var b=this;f.setTimeout(function(){a.call(b)},0);return b}},wait:function(a,b){var c=this,e;a||l("Value of delay must be provided.");switch(h.type(b)){case "boolean":e=b;break;case "function":e=b();break;default:e=!0}return c.proceed(function(b){f.setTimeout(function(){e?c.resolve.call(c,b):c.reject.call(c,"Test did not pass.")},a)})}};h.extend({pledge:function(d){if("function"===h.type(d))return(new a).start(d);l("Parameter passed is not a valid type for this method.")},
postpone:function(){return new e}})})();h.extend({publish:function(a){return m.publish(a)},subscribe:function(a){return m.subscribe(a)},supports:function(a){return r[a]()},unsubscribe:function(a){return m.unsubscribe(a)},window:function(a){return s[a]()}});h.fn.extend({active:function(a){return this.hasClass(a||"active")},activate:function(a,e){a=a||"active";return e?this.deactivate(a,e).addClass(a):this.deactivate(a).addClass(a)},deactivate:function(a,e){a=a||"active";e?this.parents(e).find("."+
a).removeClass(a):this.parent().find("."+a).removeClass(a);return this},imgLoad:function(a,e){var d=this.length;return e&&0<e?this.each(function(b){var c=this;f.setTimeout(function(){pluginFuncs.loadImg(c,b,d,a)},e*b)}):this.each(function(b){pluginFuncs.loadImg(this,b,d,a)})},unselectable:function(a){(a?this:this.add($self.find("*"))).attr({unselectable:"on"}).css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none",
"user-select":"none"});return this},unstyle:function(a){switch(h.type(a)){case "string":return this.css(a,"");case "array":for(var e={},d=a.length;d--;)e[a[d]]="";return this.css(e);case "undefined":return this.removeAttr("style");default:return throwwError("Parameter passed in is not of appropriate type; processing aborted."),this}}})})(window,document,jQuery);
