/*
 *
 * Copyright 2014 Tony Quetano under the terms of the MIT
 * license found at https://github.com/planttheidea/bolster/MIT_License.txt
 *
 * Bolster.js - An augmentation library for jQuery
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
*/
(function(f,g,h){var l=function(a){throw Error(a);},r=function(){var a={audio:g.createElement("audio"),canvas:g.createElement("canvas"),div:g.createElement("div"),input:g.createElement("input"),p:g.createElement("p"),style:g.createElement("style"),video:g.createElement("video")},e=function(b){for(var c=!1,d=b.length;d--;)if("undefined"!==a.div.style[b[d]]){c=!0;break}return c},b=function(b,c){var d=a.div.style[b];a.div.style[b]=c;return d!==a.div.style[b]?(a.div.style[b]="",!0):!1},d=function(b){return b in
a.input},c=function(b){var c=a.input.type;a.input.type=b;return c!==a.input.type?(a.input.type="text",!0):!1},k=function(b){var c=g.head||g.getElementsByTagName("head")[0],d=a.style.sheet||a.style.styleSheet;a.style.type="text/css";c.appendChild(a.style);return d&&b?(B?function(a){d.cssText=a+" { }";return 0!==d.cssText.length&&!/unknown/i.test(d.cssText)&&0===d.cssText.indexOf(a)}:function(a){try{d.insertRule(a+"{ }",0),d.deleteRule(d.cssRules.length-1)}catch(b){return!1}return!0})(b):!1};k("test");
var C=!!f.applicationCache,D=a.div.attachEvent,l=!(!a.audio.canPlayType||!a.audio.canPlayType("audio/mpeg;").replace(/no/,"")),m=!(!a.audio.canPlayType||!a.audio.canPlayType("audio/mp4;").replace(/no/,"")),t=!(!a.audio.canPlayType||!a.audio.canPlayType("audio/ogg;").replace(/no/,"")),r=e("boxShadow MozBoxShadow WebkitBoxShadow MsBoxShadow KhtmlBoxShadow OBoxShadow".split(" ")),s=!(!a.canvas.getContext||!a.canvas.getContext("2d")),E=!!g.documentElement.classList,u;u=a.div.style.animationName?!0:e(["WebkitAnimationName",
"MozAnimationName","OAnimationName","msAnimationName","KhtmlAnimationName"]);var F=e(["columnCount","webkitColumnCount","MozColumnCount"]),G=e(["boxReflect","WebkitBoxRefect"]),B=!!a.style.styleSheet,H=!!f.CustomEvent,I=!!("draggable"in a.div),J=a.div.addEventListener,K=b("display","flex"),L=!!("geolocation"in navigator),M=!!g.getElementsByClassName,N=function(b,c){c=c||a.div;support=!1;b="on"+b;support=b in c;support||(c.setAttribute(b,"return;"),support="function"===h.type(c[b]),c.removeAttribute(b));
return support}("hashchange",f),O=!(!f.history||!f.history.pushState),P=b("background-color","hsla(0,0%,0%,0)"),Q=function(){var a=["webkit","ms","moz"],b=!1;if(f.indexedDB&&f.IDBTransaction&&f.IDBKeyRange)b=!0;else for(var c=a.length;c--;)if(f[a[c]+"IndexedDB"]&&f[a[c]+"IDBTransaction"]&&f[a[c]+"IDBKeyRange"]){b=!0;break}return b}(),R=d("autocomplete"),S=d("autofocus"),T=c("color"),U=c("date"),V=c("datetime"),W=c("datetime-local"),X=c("email"),Y=d("list"),Z=d("max"),$=d("min"),aa=d("multiple"),ba=
c("month"),ca=c("number"),da=d("pattern"),ea=d("placeholder"),fa=c("range"),ga=d("required"),ha=c("search"),ia=d("step"),ja=c("tel"),ka=c("time"),la=c("url"),ma=c("week"),n;try{f.localStorage.setItem("test","test"),f.localStorage.removeItem("test"),n=!0}catch(Ia){n=!1}var v=function(){for(var a=["linear-gradient","-webkit-linear-gradient","-moz-linear-gradient","-o-linear-gradient"],c=!1,d=a.length;d--;)if(b("background",a[d]+"(-45deg,rgba(0,0,0,0) 0%,rgba(0,0,0,1) 100%)")){c=!0;break}return c?c:
b("background","-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,0)),to(rgba(0,0,0,1)))")}(),na=function(){var b=g.createElement("style"),c=!1;a.div.id="MediaTest";g.body.appendChild(a.div);b.textContent="@media screen and (min-width:1px) { #MediaTest { position:absolute; }}";g.body.appendChild(b);f.getComputedStyle&&"absolute"==f.getComputedStyle(a.div).position&&(c=!0);a.div.style="";g.body.removeChild(a.div);g.body.removeChild(b);return c}(),oa="undefined"!==h.type(f.pageXOffset)&&
"undefined"!==h.type(f.pageYOffset),pa=!!f.postMessage,qa=k(":active"),ra=k(":after"),sa=k("::after"),ta=k(":before"),ua=k("::before"),va=k(":focus"),wa=k(":hover"),xa=k("::first-letter"),ya=k("::first-line"),za=k(":link"),Aa=k(":visited"),w=function(){for(var a=["radial-gradient","-webkit-radial-gradient","-moz-radial-gradient","-o-radial-gradient"],c=!1,d=a.length;d--;)if(b("background",a[d]+"(rgb(0,0,0) 0%,rgb(255,255,255) 100%)")){c=!0;break}return c?c:b("background","-webkit-gradient(radial, center center, 0px, center center, 100%, from(rgb(0,0,0)), to(rgb(255,255,255)))")}(),
Ba=b("background-color","rgba(0,0,0,0)"),p;try{f.sessionStorage.setItem("test","test"),f.sessionStorage.removeItem("test"),p=!0}catch(Ja){p=!1}var Ca=!!(-1<g.createElementNS("http://www.w3.org/2000/svg","animateMotion").toString().indexOf("SVG")),Da=!(!g.createElementNS||!g.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),Ea=e(["textShadow"]),Fa=!!("ontouchstart"in g.documentElement||f.navigator.msMaxTouchPoints),q=e(["transform","webkitTransform","MozTransform","msTransform","OTransform"]),
x=function(){if(q){for(var a=["transform","webkitTransform","MozTransform","msTransform","OTransform"],c=!1,d=a.length;d--;)if(b(a[d],"translate3d(1px,1px,1px)")){c=!0;break}return c}return!1}(),y=!(!a.video.canPlayType||!a.video.canPlayType("video/mp4;").replace(/no/,"")),z=!(!a.video.canPlayType||!a.video.canPlayType("video/ogg;").replace(/no/,"")),A=!(!a.video.canPlayType||!a.video.canPlayType("video/webm;").replace(/no/,"")),Ga=function(){var b=!1;try{a.canvas.getContext("webgl"),b=!0}catch(c){try{a.getContext("experimental-webgl"),
b=!0}catch(d){b=!1}}return b}(),Ha=!(!f.WebSocket||!f.WebSocket.prototype.send);(function(){var b=g.head||g.getElementsByTagName("head")[0];b.contains(a.style)&&b.removeChild(a.style)})();return{applicationCache:function(){return C},attachEvent:function(){return D},audio:function(){return{mp3:l,mp4:m,ogg:t}},audioMP3:function(){return l},audioMP4:function(){return m},audioOGG:function(){return t},boxShadow:function(){return r},canvas:function(){return s},classList:function(){return E},cssAnimation:function(){return u},
cssColumn:function(){return F},cssReflection:function(){return G},customEvent:function(){return H},dragAndDrop:function(){return I},eventListener:function(){return J},flexbox:function(){return K},geolocation:function(){return L},getElementsByClassName:function(){return M},gradient:function(){return{linear:v,radial:w}},hashchange:function(){return N},history:function(){return O},hsla:function(){return P},html5Attribute:function(){return{autocomplete:R,autofocus:S,list:Y,max:Z,min:$,multiple:aa,pattern:da,
placeholder:ea,required:ga,step:ia}},html5Input:function(){return{color:T,date:U,dateTime:V,dateTimeLocal:W,email:X,month:ba,number:ca,range:fa,search:ha,tel:ja,time:ka,url:la,week:ma}},indexedDB:function(){return Q},linearGradient:function(){return v},localStorage:function(){return n},mediaQueries:function(){return na},pageOffset:function(){return oa},postMessage:function(){return pa},pseudoClass:function(){return{active:qa,after:ra,before:ta,focus:va,hover:wa,link:za,visited:Aa}},pseudoElement:function(){return{after:sa,
before:ua,firstLetter:xa,firstLine:ya}},radialGradient:function(){return w},rgba:function(){return Ba},sessionStorage:function(){return p},smil:function(){return Ca},storage:function(){return{local:n,session:p}},svg:function(){return Da},textShadow:function(){return Ea},touchEvents:function(){return Fa},transform:function(){return{twoD:q,threeD:x}},transform2d:function(){return q},transform3d:function(){return x},video:function(){return{mp4:y,ogg:z,webM:A}},videoMP4:function(){return y},videoOGG:function(){return z},
videoWebM:function(){return A},webGL:function(){return Ga},webSocket:function(){return Ha}}}(),m=function(){function a(a){var d=b[subscribeObj.name];if(0<d)for(var f in e)if(e[f])for(var g=e[f].length;g--;)e[f][g].token===d&&(delete b[a.name],e[f].splice(g,1));return this}var e={},b={},d=-1;return{getID:function(a){return b[a.name]},publish:function(a){var b=a.data||{},d,f;if(!e[a.topic])return!1;for(f=(d=e[a.topic])?d.length:0;f--;)d[f].func(b,a.topic)},subscribe:function(c){b[c.name]&&a(c);c.token=
++d;switch(h.type(c.topic)){case "string":"array"!==h.type(e[c.topic])&&(e[c.topic]=[]);e[c.topic].push({token:c.token,func:c.fn});break;case "array":for(var f=c.topic.length;f--;)"array"!==h.type(e[c.topic[f]])&&(e[c.topic[f]]=[]),e[c.topic[f]].push({token:c.token,func:c.fn});break;case "undefined":l("Must provide a topic to subscribe to; aborting processing.");break;default:l("Invalid topic type, must be either string or array; aborting processing.")}return b[c.name]=c.token},unsubscribe:a}}(),
s=function(){var a=h(f),e=a.height(),b=a.width(),d=a.scrollTop();a.off(".jQueryPlus.setWindowAttributes").on({"load.jQueryPlus.setWindowDimensions resize.jQueryPlus.setWindowDimensions":function(){e=a.height();b=a.width();m.publish({topic:"windowSize",data:{width:b,height:e}})},"scroll.jQueryPlus.setWindowDimensions":function(){d=a.scrollTop();m.publish({topic:"windowScroll",data:{scrollTop:d}})}});return{dimensions:function(){return{width:b,height:e}},height:function(){return e},scrollTop:function(){return d},
width:function(){return b}}}();(function(){var a=function(){this.init=function(){this.resolved={};this.rejected={};this.cuid=this.puid=-1};this.resolve=function(a){this.cuid++;this.resolved[this.cuid]&&this.resolved[this.cuid].call(this,a)};this.reject=function(a){this.cuid++;this.rejected[this.cuid]&&this.rejected[this.cuid].call(this,a)};this.push=function(a,d){this.puid++;"function"===h.type(a)?this.resolved[this.puid]=a:this.resolved[this.puid]=void 0;"function"===h.type(d)?this.rejected[this.puid]=
d:this.rejected[this.puid]=function(a){l("Rejected: "+a)}};this.init();return this},e=function(){var b=this;this.resolve=function(a){this.resolvePostpone=!0;this.resolveData=a};this.reject=function(a){this.rejectPostpone=!0;this.rejectData=a};this.pledge=function(){return(new a).start(function(){var a=this;f.setTimeout(function(){b.resolvePostpone?a.resolve(b.resolveData):rejectMe&&a.reject(b.rejectData)},0)})}};a.prototype={complete:function(a,d){this.push(a,d)},consecutive:function(a,d){var c="array"===
h.type(d),f=a.length;if(!c||c&&f===d.length){for(var e=0,f=a.length;e<f;e++)c?this.push(a[e],d[e]):this.push(a[e],onRejection);return this}c&&(this.init(),l("The length of resolve functions does not equal the length of reject functions."))},concurrent:function(b,d){if("undefined"===h.type(d)||"function"===h.type(d)){var c=b.length,e=[];this.push(function(d){for(var f=this,g=b.length;g--;)(new a).start(function(){b[g].call(this,d)}).complete(function(a){e.push(a);e.length===c&&f.resolve(e)})},d);return this}this.init();
l("Parameter passed is not a valid type for this method.")},proceed:function(a,d){this.push(a,d);return this},start:function(a){"function"===h.type(a)&&a.call(this);return this}};h.extend({pledge:function(b){if("function"===h.type(b))return(new a).start(b);l("Parameter passed is not a valid type for this method.")},defer:function(){return new e}})})();h.extend({publish:function(a){return m.publish(a)},subscribe:function(a){return m.subscribe(a)},supports:function(a){return r[a]()},unsubscribe:function(a){return m.unsubscribe(a)},
window:function(a){return s[a]()}});h.fn.extend({active:function(a){return this.hasClass(a||"active")},activate:function(a,e){a=a||"active";return e?this.deactivate(a,e).addClass(a):this.deactivate(a).addClass(a)},deactivate:function(a,e){a=a||"active";e?this.parents(e).find("."+a).removeClass(a):this.parent().find("."+a).removeClass(a);return this},imgLoad:function(a,e){var b=this.length;return e&&0<e?this.each(function(d){var c=this;f.setTimeout(function(){pluginFuncs.loadImg(c,d,b,a)},e*d)}):this.each(function(d){pluginFuncs.loadImg(this,
d,b,a)})},unselectable:function(a){(a?this:this.add($self.find("*"))).attr({unselectable:"on"}).css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"});return this},unstyle:function(a){switch(h.type(a)){case "string":return this.css(a,"");case "array":for(var e={},b=a.length;b--;)e[a[b]]="";return this.css(e);case "undefined":return this.removeAttr("style");default:return throwwError("Parameter passed in is not of appropriate type; processing aborted."),
this}}})})(window,document,jQuery);
